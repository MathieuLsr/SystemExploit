#include <stdio.h>
#include "headers/gestionFichiers.h"

//#include <sys/types.h>
//#include <sys/stat.h>

//Include pour Open
#include <fcntl.h>

int main(void)
{
    printf("Lancement...") ;
    printf("\n") ;
    char path[] = "/Users/mathieulesur/Downloads/ESIEE/3ème Année/System Exploit/TDm1/file.txt" ;
    printf("Path : ") ;
    afficheTab(path) ;
    /*
    FILE* file = fopen(&path[0], "r") ;
    if(file == NULL){
        printf( "Cannot open file %s\n", path );
        return 1 ; 
    }
    
    int size = sizeof(path) ;
    printf("coucou\n") ;  
    printf("Sizeof : %d\n", size) ;
    */
    int descriptor = open(&path[0], O_RDONLY) ;
    if(descriptor < 0){
        printf("Erreur file introuvable : %s", path) ;
        return 1 ;
    }
    //printf("Descriptor : %d\n", descriptor) ;
    
    //char* pChar = litDixCaracteres(descriptor) ;
    //printf("Lit Dix caractères : %s\n", pChar) ;

    char* pLigne = litLigne(descriptor) ;
    printf("Lit première ligne : \n%s\n", pLigne) ;

    //printf("%s", pChar) ;

    //afficheTab(); 

    //char* tab = litDixCaracteres(descriptor); 
    //afficheTab(tab) ;
    
    
    /*
    char tab[] = "ExempleDix\0" ;
    litDixCaracteres(tab) ;
    afficheTab(tab);
    */
    printf("\n") ;
    return 0;
}
