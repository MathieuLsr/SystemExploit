#include <stdio.h>
#include "../../headers/gestionFichiers.h"
#include <fcntl.h>


int main(int argc, char const *argv[])
{
    
    printf("Lancement...") ;
    printf("\n") ;

    if(argc != 2){
        printf("Argument insuffisant. Utilisation : ./test2b3 [nomFile]\n") ;
        return 1 ;
    }

    const char* path = argv[1] ;
    printf("Chemin d'acc√®s : %s\n", path) ;

    int descriptor = open(&path[0], O_RDONLY) ;
    if(descriptor < 0){
        printf("Erreur file introuvable : %s", path) ;
        return 1 ;
    }

    printf("Descriptor : %d\n", descriptor) ;
    char* pLine = getAllText(descriptor) ;
    afficheTab(pLine) ;

    return 0;
}
