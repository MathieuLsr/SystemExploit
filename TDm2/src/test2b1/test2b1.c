#include <stdio.h>
#include "../../headers/affichage-processus.h"

// Include pour Wait
#include <sys/wait.h>

// Include pour printf
#include <stdio.h>

// Include pour les process
#include <unistd.h>
#include <sys/types.h>

int main(int argc, char const *argv[])
{
    
    printf("Lancement...") ;
    printf("\n") ;

    pid_t pId_fils_1 = fork() ;

    if(pId_fils_1 == 0) {
        afficheInfoProcess("Bonjour, je suis le fils n°1. ") ;

        int i = execl("/Users/mathieulesur/Downloads/ESIEE/3ème Année/System Exploit/TDm2/src/test1b1/test1b1", "test1b1") ;
        if(i == -1) printf("Error...") ;
        else if(i == 0) printf("Le programme test1b1 s'est bien lancé.") ;
        else printf("Erreur %d", i) ; 
    }
    else if(pId_fils_1 > 0) {
        afficheInfoProcess("Bonjour, je suis le père n°1. ") ;
        wait(NULL); // On attend que le fils finisse "avant de mourrir"
    }



    return 0;
}

